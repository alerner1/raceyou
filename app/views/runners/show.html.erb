<%# canni -> added this to show who you're logged in as%>
<%# A -- changed so it only shows up if you're viewing your own profile %>

<% if @runner.id == @current_user.id %>
  <h1>Hi, <%= @current_user.name %>! </h1>
<% end %>

<h1><%= @runner.name %></h1>
Details:
<ul>
  <li>Username: <%= @runner.username %></li>
  <li>Email: <%= @runner.email %></li>
  <li>Age: <%= @runner.age %></li>
  <li>Gender: <%= @runner.gender %></li>
  <li>Level: <%= @runner.rank_category.name %></li>
  <li>Points: <%= @runner.points %></li>
</ul>

<%# canni -> added link_to and link to edit registration form where you can input finish time and change to complete, still working on it%>
<!--  final version of this: race.length itself should link to the race show page
      can have a button next to it for removing yourself from the race, IF IT'S YOUR OWN PROFILE ONLY -->
<% @runner.races.each do |race| %> 
  <%= link_to race.length, edit_registration_path %><br> 
<% end %>


<h3><%= @runner.name %> is friends with:</h3>
<% @runner.friends.each do |friend| %>
  <%= friend.name %><br>
<% end %>

<% if !@current_user.friends.include?(@runner) && @current_user != @runner %>
  <%= button_to "Add As Friend", friendships_path, method: :post, params: { :friendship => {:friend_id => @runner.id } } %>
<% end %>

<% if @current_user.friends.include?(@runner) %>
  <%= button_to "Unfriend", friendship_path(@runner), {method: :delete, params: { :friendship => {:friend_id => @runner.id}}, data: {confirm: "Are you sure you want to unfriend #{@runner.name}?"}} %>
<% end %>

<% if flash[:success] %>
  <h1><%= flash[:success] %></h1>
<% end %>

<% if @runner.id == @current_user.id %>
  <%= link_to "Edit Profile", edit_runner_path(@runner)  %>
  <%= button_to "Delete Account", runner_path(@runner), {method: :delete, data: {confirm: "Are you sure you want to delete your account?"}} %>
<% end %>